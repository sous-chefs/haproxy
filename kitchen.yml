---
driver:
  name: vagrant

provisioner:
  name: chef_zero
  deprecations_as_errors: true
  always_update_cookbooks: true
  chef_license: accept
  product_name: chef
  product_version: <%= ENV['CHEF_VERSION'] || 'latest' %>
  install_strategy: always
  log_level: <%= ENV['CHEF_LOG_LEVEL'] || 'auto' %>

verifier:
  name: inspec

platforms:
  - name: amazonlinux-2
  - name: centos-7
  - name: centos-8
  - name: centos-stream-8
  - name: debian-9
  - name: debian-10
  - name: ubuntu-20.04
  - name: ubuntu-21.04
  - name: fedora-latest

suites:
  - name: package
    named_run_list: package
  - name: source-1.8
    named_run_list: source-18
  - name: source-2.0
    named_run_list: source-20
  - name: source-2.2
    named_run_list: source-22
  - name: source-default
    named_run_list: source
  - name: source_lua
    named_run_list: source_lua
    includes: [centos-7, centos-stream-8]
  - name: source_openssl
    named_run_list: source_openssl
  - name: config_1
    named_run_list: config_1
    includes: [centos-7, centos-stream-8]
  - name: config_2
    named_run_list: config_2
    includes: [centos-7, centos-stream-8]
  - name: config_3
    named_run_list: config_3
    includes: [centos-7, centos-stream-8]
  - name: config_4
    named_run_list: config_4
    includes: [centos-7, centos-stream-8]
  - name: config_backend_search
    named_run_list: config_backend_search
    includes: [centos-7, centos-stream-8]
  - name: config_1_userlist
    named_run_list: config_1_userlist
    includes: [centos-7, centos-stream-8]
  - name: config_acl
    named_run_list: config_acl
    includes: [centos-7, centos-stream-8]
  - name: config_resolver
    named_run_list: config_resolver
    includes: [centos-7, centos-stream-8]
  - name: config_ssl_redirect
    named_run_list: config_ssl_redirect
    includes: [centos-7, centos-stream-8]
  - name: config_custom_template
    named_run_list: config_custom_template
    includes: [centos-7, centos-stream-8]
  - name: config_array
    named_run_list: config_array
    includes: [centos-7, centos-stream-8]
  - name: config_fastcgi
    named_run_list: config_fastcgi
    includes: [centos-7, centos-stream-8]
